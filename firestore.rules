rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // ============================================
    // APPOINTMENTS COLLECTION
    // ============================================
    match /appointments/{appointmentId} {
      // Anyone can read appointments (needed for availability check)
      allow read: if true;

      // Anyone can create appointments (public booking)
      allow create: if true;

      // Anyone can update and delete (admin panel uses password protection in app)
      allow update, delete: if true;
    }

    // ============================================
    // BLOCKED DATES COLLECTION
    // ============================================
    match /blockedDates/{dateId} {
      allow read: if true;
      allow create, update, delete: if true;
    }

    // ============================================
    // SETTINGS COLLECTION
    // ============================================
    match /settings/{settingId} {
      allow read: if true;
      allow write: if true;
    }

    // ============================================
    // SURGERY PROCEDURES COLLECTION
    // ============================================
    match /surgeryProcedures/{procedureId} {
      allow read: if true;
      allow write: if true;
    }

    // ============================================
    // NOTIFICATIONS COLLECTION
    // ============================================
    match /notifications/{notificationId} {
      allow read, write: if true;
    }

    // ============================================
    // ADMIN USERS COLLECTION
    // ============================================
    match /adminUsers/{userId} {
      allow read, write: if true;
    }
  }
}
